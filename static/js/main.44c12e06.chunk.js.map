{"version":3,"sources":["components/Searchbar/Searchbar.js","components/ImageGalleryItem/ImageGalleryItem.js","components/Loader/Loader.js","components/Button/Button.js","components/ImageGallery/ImageGallery.js","services/picturesApi.js","components/Modal/Modal.js","App.js","reportWebVitals.js","index.js"],"names":["Searchbar","onSubmit","useState","query","setQuery","className","evt","preventDefault","trim","toast","info","type","onChange","currentTarget","value","toLowerCase","name","autoComplete","autoFocus","placeholder","ImageGalleryItem","pictures","onClick","map","picture","src","webformatURL","alt","tags","id","Loader","color","height","width","timeout","Button","ImageGallery","handleLoadMore","page","setPictures","error","setError","status","setStatus","console","log","useEffect","getImages","length","fetchPictures","fetch","then","response","ok","json","Promise","reject","Error","picturesApi","picturesArray","hits","autoScroll","catch","window","scrollTo","top","document","documentElement","scrollHeight","behavior","message","Modal","modalPicture","onClose","addEventListener","handleKeyDown","removeEventListener","e","code","target","largeImageURL","App","pictureQuery","setPictureQeury","showModal","setShowModal","setModalPicture","setPage","position","autoClose","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.44c12e06.chunk.js","sourcesContent":["import React, { useState } from 'react';\nimport PropTypes from 'prop-types';\nimport { toast } from 'react-toastify';\nimport 'react-toastify/dist/ReactToastify.css';\nimport './Searchbar.css';\n\nfunction Searchbar ({onSubmit}) {\n  const [query, setQuery] = useState('');\n\n  const handlePictureChange = (evt) => {\n    setQuery(evt.currentTarget.value.toLowerCase());\n  };\n\n  const handleSubmit = (evt) => {\n    evt.preventDefault();\n\n    if(query.trim() === '') {\n        return toast.info('Write down something to find a picture');\n    };\n\n    onSubmit(query);\n    setQuery('');\n  };\n\n  return (\n    <header className=\"Searchbar\">\n        <form className=\"SearchForm\" onSubmit={handleSubmit}>\n            <button type=\"submit\" className=\"SearchForm-button\">\n                <span className=\"SearchForm-button-label\">Search</span>\n            </button>\n            \n            <input\n                className=\"SearchForm-input\"\n                onChange={handlePictureChange}\n                type=\"text\"\n                name=\"query\"\n                value={query}\n                autoComplete=\"off\"\n                autoFocus\n                placeholder=\"Search images and photos\"\n            />\n        </form>\n    </header>\n  );\n}\n\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func,\n};\n\nexport default Searchbar;","import PropTypes from 'prop-types';\nimport './ImageGalleryItem.css'\n\nfunction ImageGalleryItem ({pictures, onClick}) {\n    return (\n        pictures.map(picture => (\n            <li key={picture.id} className=\"ImageGalleryItem\">\n                <img onClick={() => onClick(picture)} src={picture.webformatURL} alt={picture.tags} className=\"ImageGalleryItem-image\" />\n            </li>\n        )) \n    )\n};\n\nImageGalleryItem.propTypes = {\n    picture: PropTypes.arrayOf(PropTypes.object),\n    onClick: PropTypes.func,\n};\n\nexport default ImageGalleryItem;","import React from 'react';\nimport \"react-loader-spinner/dist/loader/css/react-spinner-loader.css\";\nimport LoaderSpinner from \"react-loader-spinner\";\nimport './Loader.css';\n\nexport default function Loader () {\n    return (\n        <div className=\"Loader\">\n            <LoaderSpinner\n                type=\"Circles\"\n                color=\"#3f51b5\"\n                height={100}\n                width={100}\n                timeout={5000}\n                margin-left={300} \n            />\n        </div>\n        \n    );\n} \n\n","import PropTypes from 'prop-types';\nimport './Button.css';\n\nfunction Button ({onClick}) {\n    return (\n        <button \n            onClick={onClick}\n            className=\"Button\" \n            type=\"button\">\n                Load more\n        </button> \n    )\n};\n\nButton.propTypes = {\n    onClick: PropTypes.func,\n};\n\nexport default Button;","import React, { useState, useEffect } from 'react';\r\nimport PropTypes from 'prop-types';\r\nimport { toast } from 'react-toastify';\r\nimport 'react-toastify/dist/ReactToastify.css';\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\nimport Loader from '../../components/Loader';\r\nimport Button from '../Button';\r\nimport picturesApi from '../../services/picturesApi';\r\nimport './ImageGallery.css';\r\n\r\n\r\nfunction ImageGallery({ query, onClick, handleLoadMore, page }) {\r\n  const [pictures, setPictures] = useState([]);\r\n  const [error, setError] = useState(null);\r\n  const [status, setStatus] = useState('idle');\r\n\r\n  console.log('page in ImageGallery.js', page);\r\n\r\n  useEffect(() => {\r\n    if (query) {\r\n      getImages(query, page);\r\n    };\r\n  }, [query, page]);\r\n\r\n  const getImages = (query, page) => {\r\n    if (page === 1 && pictures.length === 0) {\r\n      fetchPictures(query, page);\r\n    };\r\n\r\n    if (page === 1 && pictures.length !== 0) {\r\n      setPictures([]);\r\n      fetchPictures(query, page);\r\n    };\r\n\r\n    if (page > 1) {\r\n      fetchPictures(query, page);\r\n    }\r\n  };\r\n\r\n  const fetchPictures = (query, page) => {\r\n    setStatus('pending');\r\n    picturesApi(query, page).then(pictures => {\r\n      const picturesArray = pictures.hits;\r\n      setPictures(pictures => [...pictures, ...picturesArray]);\r\n      setStatus('resolved');\r\n      autoScroll();\r\n    })\r\n      .catch(error => {\r\n        setError(error);\r\n        setStatus('rejected');\r\n      });\r\n  };\r\n\r\n  const autoScroll = () => {\r\n    window.scrollTo({\r\n      top: document.documentElement.scrollHeight,\r\n      behavior: 'smooth',\r\n    });\r\n  };\r\n\r\n  if (status === 'idle') {\r\n    return <div className=\"Warning\">Write down the word to start searching for pictures</div>\r\n  }\r\n\r\n  if (status === 'pending') {\r\n    return (\r\n      <>\r\n        {pictures.length > 12 && <ul className=\"ImageGallery\">\r\n          <ImageGalleryItem pictures={pictures} onClick={onClick} />\r\n        </ul>}\r\n        <Loader />\r\n      </>\r\n    )\r\n  }\r\n\r\n  if (status === 'rejected') {\r\n    return toast.error(error.message)\r\n  }\r\n\r\n  if (status === 'resolved') {\r\n    return (\r\n      <>\r\n        <ul className=\"ImageGallery\">\r\n          <ImageGalleryItem pictures={pictures} onClick={onClick} />\r\n        </ul>\r\n\r\n        {pictures.length > 0\r\n          ? <Button onClick={handleLoadMore} />\r\n          : <div className=\"Warning\">You have to write down right word for search</div>}\r\n      </>\r\n    )\r\n  }\r\n};\r\n\r\nImageGallery.propTypes = {\r\n  query: PropTypes.string,\r\n  openModal: PropTypes.func,\r\n  handleLoadMore: PropTypes.func,\r\n  page: PropTypes.number,\r\n};\r\n\r\nexport default ImageGallery;","const BASE_URL = 'https://pixabay.com/api/';\nconst API_KEY = '22334944-1a4c27752b28577a34c92f730';\n\nexport default function fetchPicture (query, page) {\n    return fetch(`${BASE_URL}?q=${query}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`)\n    .then(response => {\n        if(response.ok) {\n            return response.json()\n        }\n        return Promise.reject(new Error(`There are no pictures with ${query}`));\n    });\n}","import React, { useEffect } from 'react';\nimport PropTypes from 'prop-types';\nimport './Modal.css';\n\nfunction Modal ({modalPicture, onClose}) {\n  useEffect(() => {\n    window.addEventListener('keydown', handleKeyDown);\n\n    return() => {\n      window.removeEventListener('keydown', handleKeyDown);\n    };\n  })\n\n  const handleKeyDown = (e) => {\n    if(e.code === 'Escape' || e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  const handleOverlayClick = (e) => {\n    if(e.currentTarget === e.target) {\n      onClose();\n    }\n  };\n\n  return (\n    <div className=\"Overlay\" onClick={handleOverlayClick}>\n        <div className=\"Modal\">\n            <img className=\"Modal__Picture\" src={modalPicture.largeImageURL} alt={modalPicture.tags} />\n        </div>\n    </div>\n  );\n}\n\nModal.propTypes = {\n  modalPicture: PropTypes.object,\n  onClose: PropTypes.func,\n};\n\nexport default Modal;","import React, { useState } from 'react';\nimport { ToastContainer } from 'react-toastify';\nimport Searchbar from './components/Searchbar';\nimport ImageGallery from './components/ImageGallery';\nimport Modal from './components/Modal';\nimport './App.css';\n\nfunction App () {\n  const [pictureQuery, setPictureQeury] = useState('');\n  const [showModal, setShowModal] = useState(false);\n  const [modalPicture, setModalPicture] = useState('');\n  const [page, setPage] = useState(1);\n\n  const handleFormSubmit = (pictureQuery) => {\n    setPictureQeury(pictureQuery);\n    setPage(1);\n  };\n\n  const openModal = (modalPicture) => {\n    setModalPicture(modalPicture);\n    setShowModal(true);\n  };\n\n  const closeModal = () => {\n    setShowModal(false)\n  };\n\n  const handleLoadMore = () => {\n    setPage(page => page + 1); \n  };\n\n  return (\n    <div>\n      <Searchbar onSubmit={handleFormSubmit} />\n      <ImageGallery query={pictureQuery} \n        onClick={openModal} \n        handleLoadMore={handleLoadMore}\n        page={page}\n      />\n      {showModal && <Modal modalPicture={modalPicture} onClose={closeModal}/>}\n      <ToastContainer position=\"top-center\" autoClose={2000}/>\n    </div>\n  )\n};\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}
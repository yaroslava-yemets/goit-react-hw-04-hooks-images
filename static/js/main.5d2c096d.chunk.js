(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{16:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},41:function(e,t,n){},42:function(e,t,n){},43:function(e,t,n){},44:function(e,t,n){},45:function(e,t,n){},46:function(e,t,n){"use strict";n.r(t);var c=n(0),r=n.n(c),a=n(7),o=n.n(a),i=(n(16),n(3)),s=n(4),u=(n(10),n(17),n(1));var l=function(e){var t=e.onSubmit,n=Object(c.useState)(""),r=Object(i.a)(n,2),a=r[0],o=r[1];return Object(u.jsx)("header",{className:"Searchbar",children:Object(u.jsxs)("form",{className:"SearchForm",onSubmit:function(e){if(e.preventDefault(),""===a.trim())return s.b.info("Write down something to find a picture");t(a),o("")},children:[Object(u.jsx)("button",{type:"submit",className:"SearchForm-button",children:Object(u.jsx)("span",{className:"SearchForm-button-label",children:"Search"})}),Object(u.jsx)("input",{className:"SearchForm-input",onChange:function(e){o(e.currentTarget.value.toLowerCase())},type:"text",name:"query",value:a,autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos"})]})})},j=n(6);n(19);var b=function(e){var t=e.pictures,n=e.onClick;return t.map((function(e){return Object(u.jsx)("li",{className:"ImageGalleryItem",children:Object(u.jsx)("img",{onClick:function(){return n(e)},src:e.webformatURL,alt:e.tags,className:"ImageGalleryItem-image"})},e.id)}))},f=(n(20),n(11)),d=n.n(f);n(41);function m(){return Object(u.jsx)("div",{className:"Loader",children:Object(u.jsx)(d.a,{type:"Circles",color:"#3f51b5",height:100,width:100,timeout:5e3,"margin-left":300})})}n(42);var h=function(e){var t=e.onClick;return Object(u.jsx)("button",{onClick:t,className:"Button",type:"button",children:"Load more"})};function O(e,t){return fetch("".concat("https://pixabay.com/api/","?q=").concat(e,"&page=").concat(t,"&key=").concat("22334944-1a4c27752b28577a34c92f730","&image_type=photo&orientation=horizontal&per_page=12")).then((function(t){return t.ok?t.json():Promise.reject(new Error("There are no pictures with ".concat(e)))}))}n(43);var g=function(e){var t=e.query,n=e.onClick,r=Object(c.useState)([]),a=Object(i.a)(r,2),o=a[0],l=a[1],f=Object(c.useState)(null),d=Object(i.a)(f,2),g=d[0],p=d[1],v=Object(c.useState)(1),x=Object(i.a)(v,2),w=x[0],y=x[1],C=Object(c.useState)("idle"),S=Object(i.a)(C,2),k=S[0],N=S[1],F=Object(c.useRef)();Object(c.useEffect)((function(){F.current=t}));var E=F.current,I=Object(c.useRef)();Object(c.useEffect)((function(){I.current=w}));var L=I.current;Object(c.useEffect)((function(){t&&(E!==t&&(N("pending"),l([]),y(1),O(t,w).then((function(e){var t=e.hits;l((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))})),N("resolved"),T()})).catch((function(e){p(e),N("rejected")}))),L!==w&&w>1&&(N("pending"),O(t,w).then((function(e){var t=e.hits;l((function(e){return[].concat(Object(j.a)(e),Object(j.a)(t))})),N("resolved"),T()})).catch((function(e){p(e),N("rejected")}))))}),[t,E,w,L]);var T=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})};return"idle"===k?Object(u.jsx)("div",{className:"Warning",children:"Write down the word to start searching for pictures"}):"pending"===k?Object(u.jsxs)(u.Fragment,{children:[o.length>12&&Object(u.jsx)("ul",{className:"ImageGallery",children:Object(u.jsx)(b,{pictures:o,onClick:n})}),Object(u.jsx)(m,{})]}):"rejected"===k?s.b.error(g.message):"resolved"===k?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("ul",{className:"ImageGallery",children:Object(u.jsx)(b,{pictures:o,onClick:n})}),o.length>0?Object(u.jsx)(h,{onClick:function(){y((function(e){return e+1}))}}):Object(u.jsx)("div",{className:"Warning",children:"You have to write down right word for search"})]}):void 0};n(44);var p=function(e){var t=e.modalPicture,n=e.onClose;Object(c.useEffect)((function(){return window.addEventListener("keydown",r),function(){window.removeEventListener("keydown",r)}}));var r=function(e){"Escape"!==e.code&&e.currentTarget!==e.target||n()};return Object(u.jsx)("div",{className:"Overlay",onClick:function(e){e.currentTarget===e.target&&n()},children:Object(u.jsx)("div",{className:"Modal",children:Object(u.jsx)("img",{className:"Modal__Picture",src:t.largeImageURL,alt:t.tags})})})};n(45);var v=function(){var e=Object(c.useState)(""),t=Object(i.a)(e,2),n=t[0],r=t[1],a=Object(c.useState)(!1),o=Object(i.a)(a,2),j=o[0],b=o[1],f=Object(c.useState)(""),d=Object(i.a)(f,2),m=d[0],h=d[1];return Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{onSubmit:function(e){r(e)}}),Object(u.jsx)(g,{query:n,onClick:function(e){h(e),b(!0)}}),j&&Object(u.jsx)(p,{modalPicture:m,onClose:function(){b(!1)}}),Object(u.jsx)(s.a,{position:"top-center",autoClose:2e3})]})},x=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,47)).then((function(t){var n=t.getCLS,c=t.getFID,r=t.getFCP,a=t.getLCP,o=t.getTTFB;n(e),c(e),r(e),a(e),o(e)}))};o.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(v,{})}),document.getElementById("root")),x()}},[[46,1,2]]]);
//# sourceMappingURL=main.5d2c096d.chunk.js.map